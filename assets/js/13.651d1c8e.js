(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{189:function(t,e,n){"use strict";n.r(e);var r=n(0),a=Object(r.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("p",[t._v("在做过一系列小程序之后，对小程序的登陆鉴权的流程也有一定的理解，类似于 B 端小程序自不必说，要用户信息手机号地址可以一把梭，做一个引导页面进行判断然后要求用户给与绑定，用户自然不会多说什么，毕竟这是企业级别应用。但是当涉及到 C 端小程序时候。想让用户进行绑定，就势必要给与用户便利。这里我列出一些我觉得较为不错的小程序应用方案以供参考。")]),t._v(" "),t._m(1),t._v(" "),n("p",[t._v("该类小程序在使用之前就需要绑定用户信息。常见于线下门店类功能性小程序。线下操作时有大量的优惠活动来支持小程序的流量。")]),t._v(" "),t._m(2),t._v(" "),n("p",[t._v("例如 便利蜂。之前在上海经常使用，价格和优惠都非常不错，这类小程序属于线下功能类小程序，内部有抽奖，付款等一系列功能。该小程序第一次打开就先用户直接要求用户绑定信息和地址，考虑到线下门店都会有一定的店员辅助。所以该小程序的绑定操作实际上用户都是可以接受的。图片如下所示。")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),n("p",[t._v("全局配置")]),t._v(" "),t._m(6),n("p",[t._v("如果微信 app 的版本在 7.0.0之上，我们就可以使用页面级别的配置了。")]),t._v(" "),t._m(7),n("p",[t._v("该配置默认时default，当使用custom时候可以自定义导航，可以在头部配置 loading。")]),t._v(" "),n("p",[t._v("第二种这个需要 app 版本，所以如果是想简化，反而在全局下定义，再使用微信官方的组件 "),n("a",{attrs:{href:"https://github.com/wechat-miniprogram/navigation-bar",target:"_blank",rel:"noopener noreferrer"}},[t._v("avigation-bar"),n("OutboundLink")],1),t._v(" 即可。")]),t._v(" "),t._m(8),t._v(" "),n("p",[t._v("骨架屏方案在后端不能很快给与前端数据时候采用这种方案，亦或者前端可以使用 Service Worker 把上次缓存数据返回到前端，等到从后端获取数据之后刷新页面也是一种方案，但是因为这是第一次打开小程序，所以采用骨架屏是一个很好的方法。")]),t._v(" "),n("p",[t._v("采用 "),n("a",{attrs:{href:"https://github.com/jayZOU/skeleton",target:"_blank",rel:"noopener noreferrer"}},[t._v("小程序骨架屏"),n("OutboundLink")],1),t._v(" 组件，如果不需要骨架屏动画效果，可以试试直接加载图片作为骨架屏。")]),t._v(" "),t._m(9),t._v(" "),n("p",[t._v("该类小程序在展示时无需绑定用户信息，但是当用户进行操作时在询问绑定。常用于线上商城等一系列无需专人引导的用户项目。")]),t._v(" "),t._m(10),t._v(" "),n("p",[t._v("基本上线上大部分 c 端小程序都采用此做法，功能上倒是没什么可以介绍的，但是实践上却有不同做法。")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),n("p",[t._v("在每个需要绑定的按钮上添加跳转逻辑，如果当前小程序没有绑定，可以跳转到另外一个页面上确认授权。")]),t._v(" "),t._m(13),t._v(" "),n("p",[t._v("在每个需要绑定按钮上添加 open-type='getuserinfo'，后续可以根据状态变化，切换掉按钮(也可以不切换，因为第二次绑定数据不会跳出组件)。")]),t._v(" "),t._m(14),t._v(" "),n("p",[t._v("在需要绑定的页面添加一个 透明模态框，增加以整个页面大小的button。用fixed布局，还可以向下滚动。无论在当前页面点击任何地方都会出现需要绑定选项。")]),t._v(" "),n("p",[t._v("组件代码：")]),t._v(" "),t._m(15),n("p",[t._v("然后在绑定后令 mask 消失。该方案初看起来不是那么的合适，但是仔细想想却也没什么问题，因为用户99%可能点击所需求的按钮，就算点击到按钮之间的空隙之处跳出要求绑定也没有什么问题。")]),t._v(" "),n("p",[t._v("上面方式实际上都没有太大的问题，需要在不同场景下做最合适的选择。")]),t._v(" "),t._m(16),t._v(" "),n("p",[t._v("人机交互功能是决定计算机系统“友善性”的一个重要因素。学习时候要先把书读厚，再把书读薄，做程序也是一样，如何把系统做的复杂而更加复杂，如何让用户的体验简单而更为简单都不是那么容易的一件事。")]),t._v(" "),n("Utterances",{attrs:{id:6}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"小程序绑定用户方案-优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小程序绑定用户方案-优化","aria-hidden":"true"}},[this._v("#")]),this._v(" 小程序绑定用户方案 优化")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"预先绑定类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#预先绑定类","aria-hidden":"true"}},[this._v("#")]),this._v(" 预先绑定类")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"功能介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" 功能介绍")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://image-static.segmentfault.com/182/241/1822419247-5cdaec8ed59be_articlex",alt:"便利蜂首次进入"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"技术要点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#技术要点","aria-hidden":"true"}},[this._v("#")]),this._v(" 技术要点")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("技术1： 使用自定义导航栏让头部可以配置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('"window": {\n  "navigationStyle": "custom"\n}\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('{\n  "usingComponents": {},\n  "navigationStyle": "custom"\n}\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("技术2：使用小程序骨架屏")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"惰性绑定类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#惰性绑定类","aria-hidden":"true"}},[this._v("#")]),this._v(" 惰性绑定类")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"功能介绍-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 功能介绍")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"实践方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实践方式","aria-hidden":"true"}},[this._v("#")]),this._v(" 实践方式")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("方式 1: 页面跳转 (京东购物)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("方式2: 按钮控制 (华为商城+)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("方式3: 遮罩层拦截 (抽奖助手)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('// wxml\n<view style="z-index: {{zIndex}}" class="mask">\n  <button open-type="{{ openType }}"\n          bindtap="onClick"\n          bindgetuserinfo="bindGetUserInfo"\n          bindgetphonenumber="bindGetPhoneNumber"\n          bindopensetting="bindOpenSetting"\n          binderror="bindError"\n          class="mask"/>\n</view>\n\n// wxss\n.mask{\n  position: fixed;\n  top: 0;\n  bottom:0;\n  left:0;\n  right:0;\n  background-color: inherit;\n  opacity: 0;\n}\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"结语"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结语","aria-hidden":"true"}},[this._v("#")]),this._v(" 结语")])}],!1,null,null,null);e.default=a.exports}}]);